(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{1639:function(e,t,s){Promise.resolve().then(s.bind(s,4907))},4907:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(7437),a=s(2265),r=s(7648);function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[n,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{i();let e=setInterval(i,3e3);return()=>clearInterval(e)},[]);let i=async()=>{try{console.log("\uD83D\uDD04 Fetching bracket data...");let e=await fetch("/api/bracket/matches");if(e.ok){let s=await e.json();if(console.log("✅ Bracket data loaded:",s),console.log("\uD83C\uDFAE Admin controlled matches: ".concat(s.adminControlled?"YES":"NO")),s.teams&&s.teams.length>0&&(c(s.teams),console.log("\uD83D\uDCCB Teams loaded: ".concat(s.teams.map(e=>e.name).join(", ")))),s.matches&&s.matches.length>0){t(s.matches),console.log("\uD83C\uDFC6 Matches loaded: ".concat(s.matches.length," matches"));let e=s.matches.filter(e=>e.isLive);e.length>0?console.log("\uD83D\uDD34 LIVE MATCHES FOUND:",e.map(e=>{var t,s;return"".concat(e.id," (").concat(null===(t=e.team1)||void 0===t?void 0:t.name," vs ").concat(null===(s=e.team2)||void 0===s?void 0:s.name,")")})):console.log("⚪ No live matches currently")}else console.log("⚠️ No matches in response"),t([])}else console.error("❌ Failed to fetch bracket data:",e.status),t([]),c([])}catch(e){console.error("❌ Error fetching bracket data:",e),t([]),c([])}finally{d(!1)}};(0,a.useEffect)(()=>{let e=setInterval(()=>{i()},5e3);return()=>clearInterval(e)},[]);let o=t=>e.find(e=>e.id===t),x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TBD";return(null==e?void 0:e.name)||t},m=e=>{let{match:t,className:s=""}=e;if(!t)return(0,l.jsx)("div",{className:"bg-gray-700/90 border border-gray-600 rounded-lg p-3 w-full h-16 flex items-center justify-center ".concat(s),children:(0,l.jsx)("div",{className:"text-gray-400 text-sm",children:"Kein Match"})});let a=x(t.team1,"TBD"),r=x(t.team2,"TBD");t.team1Score>0||t.team2Score;let c=t.isLive||!1,n=t.isFinished&&t.team1Score>t.team2Score,d=t.isFinished&&t.team2Score>t.team1Score,i=n?"text-green-400 font-bold":d?"text-gray-400":"text-white",o=d?"text-green-400 font-bold":n?"text-gray-400":"text-white";return(0,l.jsx)("div",{className:"bg-gray-700/90 border border-gray-600 rounded-lg p-3 w-full min-h-[60px] flex items-center justify-center ".concat(t.isFinished?"border-green-500 bg-green-900/20":c?"border-yellow-500 bg-yellow-900/20":""," ").concat(s),children:(0,l.jsx)("div",{className:"text-center text-sm font-medium w-full",children:t.team1&&t.team2?(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"grid grid-cols-5 gap-1 items-center w-full max-w-xs mx-auto",children:[(0,l.jsx)("div",{className:"".concat(i," text-right"),children:a}),(0,l.jsx)("div",{className:"".concat(i," font-bold text-center"),children:t.team1Score}),(0,l.jsx)("div",{className:"text-white text-center font-medium",children:"vs"}),(0,l.jsx)("div",{className:"".concat(o," font-bold text-center"),children:t.team2Score}),(0,l.jsx)("div",{className:"".concat(o," text-left"),children:r})]}),c&&(0,l.jsx)("div",{className:"text-yellow-400 text-xs",children:"\uD83D\uDD34 LIVE"})]}):(0,l.jsxs)("div",{className:"text-white",children:[a," vs ",r]})})})};return n?(0,l.jsx)("div",{className:"min-h-screen bg-image flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl",children:"Lade Tournament Bracket..."})}):(0,l.jsx)("div",{className:"min-h-screen bg-image",children:(0,l.jsxs)("div",{className:"w-full px-4 py-8",children:[(0,l.jsxs)("div",{className:"bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-purple-500/50 mb-6",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-white text-center mb-4",children:"\uD83C\uDFC6 TOURNAMENT BRACKET"}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-purple-200 mb-2",children:s.length>0?"".concat(s.length," Teams • Double Elimination Format"):"Teams werden geladen..."}),(0,l.jsxs)("div",{className:"text-sm text-purple-300 flex items-center justify-center gap-4",children:["\uD83D\uDD04 Live Updates alle 3 Sekunden",(0,l.jsx)("button",{onClick:i,className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded text-white text-xs font-medium transition-colors",children:"\uD83D\uDD04 Jetzt Aktualisieren"})]})]})]}),(0,l.jsxs)("div",{className:"relative bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-purple-500/50 w-full",children:[(0,l.jsx)("div",{className:"absolute",style:{top:"175px",left:"365px",zIndex:1},children:(0,l.jsx)("img",{src:"/lines.png",alt:"Bracket Lines",className:"select-none pointer-events-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",width:"auto",height:"auto",maxWidth:"none",maxHeight:"none"},draggable:!1})}),(0,l.jsxs)("div",{className:"w-full relative",style:{height:"600px"},children:[(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-purple-500/30 p-4",style:{left:"21px",top:"135px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3",children:"RUNDE 1 - QUARTER FINALS"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m,{match:o("WB-Q1")}),(0,l.jsx)(m,{match:o("WB-Q2")}),(0,l.jsx)(m,{match:o("WB-Q3")}),(0,l.jsx)(m,{match:o("WB-Q4")})]})]}),(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-purple-500/30 p-4",style:{left:"387px",top:"55px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3",children:"RUNDE 2 - SEMI FINALS"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(m,{match:o("WB-S1")}),(0,l.jsx)(m,{match:o("WB-S2")})]})]}),(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-purple-500/30 p-4",style:{left:"1117px",top:"91px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3",children:"WINNER BRACKET FINAL"}),(0,l.jsx)("div",{children:(0,l.jsx)(m,{match:o("WB-F")})})]}),(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-purple-500/30 p-4",style:{left:"387px",top:"323px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-purple-700 text-white px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3",children:"LOSER BRACKET R1"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(m,{match:o("LB-1-1")}),(0,l.jsx)(m,{match:o("LB-1-2")})]})]}),(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-purple-500/30 p-4",style:{left:"752px",top:"323px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-purple-700 text-white px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3",children:"LOSER BRACKET R2"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(m,{match:o("LB-2-1")}),(0,l.jsx)(m,{match:o("LB-2-2")})]})]}),(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-purple-500/30 p-4",style:{left:"1117px",top:"359px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-purple-700 text-white px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3",children:"LOSER BRACKET R3"}),(0,l.jsx)("div",{children:(0,l.jsx)(m,{match:o("LB-S")})})]}),(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-purple-500/30 p-4",style:{left:"1482px",top:"359px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-purple-700 text-white px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3",children:"LOSER BRACKET FINAL"}),(0,l.jsx)("div",{children:(0,l.jsx)(m,{match:o("LB-F")})})]}),(0,l.jsxs)("div",{className:"absolute bg-black/30 rounded-lg border border-yellow-500/50 p-4",style:{left:"1482px",top:"91px",zIndex:2,width:"320px"},children:[(0,l.jsx)("div",{className:"bg-yellow-500 text-black px-4 py-2 rounded-lg font-bold text-center w-full text-sm mb-3 flex items-center justify-center",children:"\uD83C\uDFC6 GRAND FINAL"}),(0,l.jsx)("div",{children:(0,l.jsx)(m,{match:o("GF")})})]})]})]}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"TEILNEHMENDE TEAMS"}),(0,l.jsx)("div",{className:"grid md:grid-cols-4 gap-3",children:s.length>0?s.map((e,t)=>(0,l.jsxs)("div",{className:"bg-purple-600/20 backdrop-blur-sm rounded-lg p-3 border border-purple-500/50",children:[(0,l.jsx)("h3",{className:"text-white font-semibold text-center text-base",children:e.name}),(0,l.jsxs)("p",{className:"text-purple-200 text-center text-xs",children:["Position ",e.position]})]},e.id)):["Team Alpha","Team Beta","Team Gamma","Team Delta","Team Echo","Team Foxtrot","Team Golf","Team Hotel"].map((e,t)=>(0,l.jsxs)("div",{className:"bg-purple-600/20 backdrop-blur-sm rounded-lg p-3 border border-purple-500/50",children:[(0,l.jsx)("h3",{className:"text-white font-semibold text-center text-base",children:e}),(0,l.jsxs)("p",{className:"text-purple-200 text-center text-xs",children:["Position ",t+1]})]},t))})]}),(0,l.jsx)("div",{className:"mt-8 text-center",children:(0,l.jsxs)("div",{className:"flex justify-center space-x-8",children:[(0,l.jsx)(r.default,{href:"/",className:"text-white/80 hover:text-white transition-colors font-medium",children:"Home"}),(0,l.jsx)(r.default,{href:"/teams",className:"text-white/80 hover:text-white transition-colors font-medium",children:"Teams"}),(0,l.jsx)(r.default,{href:"/dashboard",className:"text-white/80 hover:text-white transition-colors font-medium",children:"Dashboard"})]})})]})})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=1639)}),_N_E=e.O()}]);