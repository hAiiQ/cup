(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9975:function(e,t,r){Promise.resolve().then(r.t.bind(r,4811,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,4768)),Promise.resolve().then(r.bind(r,4362)),Promise.resolve().then(r.bind(r,6252))},4768:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var n=r(7437),o=r(7648),s=r(9376),a=r(4362),l=r(2265),i=r(3145);function c(){let e=(0,s.useRouter)(),{user:t,isLoggedIn:r,logout:c}=(0,a.a)(),[d,u]=(0,l.useState)(!1),h=async()=>{await c(),e.push("/")};return(0,n.jsx)("header",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,n.jsxs)("nav",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsxs)(o.default,{href:"/",className:"group flex items-center space-x-3 hover:scale-105 transition-all duration-300",children:[(0,n.jsx)(i.default,{src:"/logo.png",alt:"PATH OF LOKI Logo",width:40,height:40,className:"object-contain"}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{className:"text-lg font-bold",children:(0,n.jsx)("span",{className:"text-transparent bg-clip-text no-text-shadow group-hover:opacity-80 transition-all duration-500",style:{background:"linear-gradient(to right, #2A7B9B, #57C785, #EDDD53)",backgroundClip:"text",WebkitBackgroundClip:"text"},children:"PATH OF LOKI"})}),(0,n.jsx)("div",{className:"text-xs font-medium text-white/70 group-hover:text-purple-300 transition-colors",children:"by JoeDom"})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 ml-6",children:[(0,n.jsxs)("a",{href:"https://de.oxsaudio.com",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 flex items-center justify-center group hover:scale-110",title:"OXS Audio Website",children:[(0,n.jsx)("img",{src:"/OXS_Logo.png",alt:"OXS",width:"32",height:"32",className:"group-hover:scale-110 transition-transform object-contain rounded-lg",onError:e=>{console.log("OXS Logo failed to load, using fallback"),u(!0)},onLoad:()=>console.log("OXS Logo loaded successfully")}),d&&(0,n.jsx)("div",{className:"w-5 h-5 text-white group-hover:scale-110 transition-transform font-bold text-xs flex items-center justify-center absolute",children:"OXS"})]}),(0,n.jsx)("a",{href:"https://discord.gg/uvkuf4Vscy",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-indigo-600 hover:bg-indigo-700 rounded-lg flex items-center justify-center transition-colors group hover:scale-110",title:"Discord Server",children:(0,n.jsx)("svg",{className:"w-5 h-5 text-white group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})}),(0,n.jsx)("a",{href:"https://www.twitch.tv/joedom_",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-purple-600 hover:bg-purple-700 rounded-lg flex items-center justify-center transition-colors group hover:scale-110",title:"Twitch Channel",children:(0,n.jsx)("svg",{className:"w-5 h-5 text-white group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})})}),(0,n.jsx)("a",{href:"https://www.instagram.com/oxsaudio/",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 flex items-center justify-center group",title:"OXS Audio Instagram",children:(0,n.jsx)("img",{src:"/OXS_instagram.png",alt:"Instagram",width:"32",height:"32",className:"group-hover:scale-110 transition-transform object-contain rounded-lg"})})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(o.default,{href:"/bracket",className:"text-white hover:text-purple-300 transition-colors px-3 py-1 rounded",children:"Bracket"}),(0,n.jsx)(o.default,{href:"/teams",className:"text-white hover:text-purple-300 transition-colors px-3 py-1 rounded",children:"Teams"}),r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.default,{href:"/dashboard",className:"text-white hover:text-purple-300 transition-colors px-3 py-1 rounded",children:"Dashboard"}),(0,n.jsx)(o.default,{href:"/rules",className:"text-white hover:text-purple-300 transition-colors px-3 py-1 rounded",children:"Regeln"}),(0,n.jsx)("button",{onClick:h,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors text-sm",children:"Abmelden"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.default,{href:"/login",className:"bg-white/20 text-white px-4 py-2 rounded hover:bg-white/30 transition-colors",children:"Anmelden"}),(0,n.jsx)(o.default,{href:"/register",className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors",children:"Registrieren"})]}),(0,n.jsx)(o.default,{href:"/admin",className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition-colors text-sm",children:"\uD83D\uDD27 Admin"})]})]})})})}},4362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return a}});var n=r(7437),o=r(2265);let s=(0,o.createContext)(void 0),a=()=>{let e=(0,o.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:t}=e,[r,a]=(0,o.useState)(null),[l,i]=(0,o.useState)(null),[c,d]=(0,o.useState)(!1),[u,h]=(0,o.useState)(!0),x=async()=>{let e=localStorage.getItem("token");if(!e){a(null),i(null),d(!1),h(!1);return}i(e);try{let t=await fetch("/api/user/profile",{headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(t.ok){let e=await t.json();e.success&&e.user?(a(e.user),d(!0)):(localStorage.removeItem("token"),a(null),i(null),d(!1))}else localStorage.removeItem("token"),a(null),i(null),d(!1)}catch(e){console.error("Auth refresh error:",e),localStorage.removeItem("token"),a(null),i(null),d(!1)}finally{h(!1)}},g=async()=>{localStorage.removeItem("token"),i(null),a(null),d(!1);try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(e){console.error("Logout API error:",e)}window.dispatchEvent(new Event("authChange"))};return(0,o.useEffect)(()=>{x();let e=()=>{x()};return window.addEventListener("authChange",e),window.addEventListener("storage",e),()=>{window.removeEventListener("authChange",e),window.removeEventListener("storage",e)}},[]),(0,n.jsx)(s.Provider,{value:{user:r,token:l,isLoggedIn:c,loading:u,login:(e,t)=>{localStorage.setItem("token",e),i(e),a(t),d(!0),window.dispatchEvent(new Event("authChange"))},logout:g,refreshUser:x},children:t})}},6252:function(e,t,r){"use strict";r.d(t,{SocketProvider:function(){return l}});var n=r(7437),o=r(2265),s=r(8680);let a=(0,o.createContext)({socket:null,isConnected:!1}),l=e=>{let{children:t}=e,[r,l]=(0,o.useState)(null),[i,c]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=(0,s.io)("",{path:"/api/socketio",addTrailingSlash:!1});return e.on("connect",()=>{console.log("\uD83D\uDD0C Socket connected:",e.id),c(!0)}),e.on("disconnect",()=>{console.log("❌ Socket disconnected"),c(!1)}),l(e),()=>{e.disconnect()}},[]),(0,n.jsx)(a.Provider,{value:{socket:r,isConnected:i},children:t})}},2778:function(){}},function(e){e.O(0,[2,648,145,395,971,117,744],function(){return e(e.s=9975)}),_N_E=e.O()}]);